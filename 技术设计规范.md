# MacUIKit 技术设计规范

## 文档信息
- **文档版本**: 1.0
- **创建日期**: 2024年12月
- **文档类型**: 技术设计规范 (Technical Design Specification)

## 1. 技术架构详细设计

### 1.1 项目结构规范

```
MacUIKit/
├── Package.swift                     # Swift Package配置
├── README.md                        # 项目说明文档
├── LICENSE                          # 开源协议
├── Sources/
│   └── MacUIKit/
│       ├── MacUIKit.swift          # 主模块导出
│       ├── Components/             # 组件目录
│       │   ├── Basic/              # 基础组件
│       │   │   ├── Button/
│       │   │   │   ├── MacButton.swift
│       │   │   │   ├── MacButtonStyle.swift
│       │   │   │   └── MacButtonModifiers.swift
│       │   │   ├── Input/
│       │   │   │   ├── MacTextField.swift
│       │   │   │   ├── MacSecureField.swift
│       │   │   │   └── MacSearchField.swift
│       │   │   └── Display/
│       │   ├── Layout/              # 布局组件
│       │   ├── Feedback/            # 反馈组件
│       │   └── Advanced/            # 高级组件
│       ├── Themes/                 # 主题系统
│       │   ├── MacTheme.swift
│       │   ├── Colors/
│       │   ├── Typography/
│       │   └── Spacing/
│       ├── Utilities/              # 工具类
│       │   ├── Extensions/
│       │   ├── Helpers/
│       │   └── Constants/
│       └── Resources/              # 资源文件
│           ├── Assets/
│           └── Localizable/
├── Tests/
│   ├── MacUIKitTests/              # 单元测试
│   └── MacUIKitUITests/            # UI测试
├── Examples/
│   └── MacUIKitDemo/               # 示例应用
└── Documentation/
    ├── API/                        # API文档
    ├── Guides/                     # 使用指南
    └── Assets/                     # 文档资源
```

### 1.2 核心架构设计

#### 1.2.1 主题系统架构

主题系统是MacUIKit的核心，提供统一的设计语言和样式管理。

```swift
// 主题协议定义
protocol MacThemeProtocol {
    var colors: MacColors { get }
    var typography: MacTypography { get }
    var spacing: MacSpacing { get }
    var elevation: MacElevation { get }
    var animation: MacAnimation { get }
}

// 色彩系统
struct MacColors {
    // 主色调
    let primary: Color
    let primaryVariant: Color
    
    // 语义色彩
    let success: Color
    let warning: Color
    let error: Color
    let info: Color
    
    // 中性色
    let background: Color
    let surface: Color
    let onBackground: Color
    let onSurface: Color
    
    // 系统色彩
    let separator: Color
    let controlBackground: Color
    let selectedContentBackground: Color
}

// 字体系统
struct MacTypography {
    let largeTitle: Font
    let title1: Font
    let title2: Font
    let title3: Font
    let headline: Font
    let body: Font
    let callout: Font
    let subheadline: Font
    let footnote: Font
    let caption1: Font
    let caption2: Font
}

// 间距系统
struct MacSpacing {
    let xs: CGFloat = 4
    let sm: CGFloat = 8
    let md: CGFloat = 12
    let lg: CGFloat = 16
    let xl: CGFloat = 20
    let xxl: CGFloat = 24
    let xxxl: CGFloat = 32
}
```

#### 1.2.2 组件基础架构

所有组件都遵循统一的设计模式，确保一致性和可维护性。

```swift
// 组件基类协议
protocol MacComponent: View {
    associatedtype Content: View
    
    var theme: MacTheme { get }
    var isEnabled: Bool { get }
    var isVisible: Bool { get }
    
    func body() -> Content
}

// 状态管理系统
enum MacComponentState {
    case normal
    case hovered
    case pressed
    case focused
    case disabled
}
```

### 1.3 状态管理系统

```swift
// 组件状态枚举
enum MacComponentState {
    case normal
    case hovered
    case pressed
    case focused
    case disabled
}

// 状态管理器
class MacStateManager: ObservableObject {
    @Published var currentState: MacComponentState = .normal
    @Published var isHovered: Bool = false
    @Published var isPressed: Bool = false
    @Published var isFocused: Bool = false
    
    func updateState() {
        if !isEnabled {
            currentState = .disabled
        } else if isPressed {
            currentState = .pressed
        } else if isFocused {
            currentState = .focused
        } else if isHovered {
            currentState = .hovered
        } else {
            currentState = .normal
        }
    }
}
```

## 2. 核心组件设计

### 2.1 按钮组件 (MacButton)

按钮是最基础的交互组件，需要支持多种样式和状态。

#### 2.1.1 基础实现

```swift
public struct MacButton: View {
    private let title: String
    private let action: () -> Void
    private let style: MacButtonStyle
    
    @State private var isHovered: Bool = false
    @State private var isPressed: Bool = false
    @Environment(\.isEnabled) private var isEnabled
    @Environment(\.macTheme) private var theme
    
    public var body: some View {
        Button(action: action) {
            Text(title)
                .font(theme.typography.body)
                .foregroundColor(textColor)
                .padding(.horizontal, theme.spacing.lg)
                .padding(.vertical, theme.spacing.md)
        }
        .background(backgroundColor)
        .cornerRadius(theme.cornerRadius.md)
        .scaleEffect(isPressed ? 0.98 : 1.0)
        .animation(.easeInOut(duration: 0.1), value: isPressed)
    }
}

public enum MacButtonStyle {
    case primary    // 主要按钮
    case secondary  // 次要按钮
    case text       // 文本按钮
    case destructive // 危险操作按钮
}
```

#### 2.1.2 样式系统

```swift
extension MacButton {
    private var textColor: Color {
        switch style {
        case .primary:
            return isEnabled ? .white : theme.colors.onSurface.opacity(0.5)
        case .secondary:
            return isEnabled ? theme.colors.primary : theme.colors.onSurface.opacity(0.5)
        case .text:
            return isEnabled ? theme.colors.primary : theme.colors.onSurface.opacity(0.5)
        case .destructive:
            return isEnabled ? .white : theme.colors.onSurface.opacity(0.5)
        }
    }
    
    private var backgroundColor: Color {
        switch style {
        case .primary:
            return backgroundColorForState(baseColor: theme.colors.primary)
        case .secondary:
            return backgroundColorForState(baseColor: Color.clear)
        case .text:
            return Color.clear
        case .destructive:
            return backgroundColorForState(baseColor: theme.colors.error)
        }
    }
}
```

### 2.2 输入组件 (MacTextField)

文本输入是应用中最常用的组件之一，需要支持多种输入类型和验证状态。

#### 2.2.1 基础实现

```swift
public struct MacTextField: View {
    @Binding private var text: String
    private let placeholder: String
    private let style: MacTextFieldStyle
    
    @State private var isFocused: Bool = false
    @State private var isHovered: Bool = false
    @Environment(\.macTheme) private var theme
    
    public var body: some View {
        VStack(alignment: .leading, spacing: theme.spacing.xs) {
            if let label = style.label {
                Text(label)
                    .font(theme.typography.caption1)
                    .foregroundColor(labelColor)
            }
            
            textFieldContent
            
            if let helperText = style.helperText {
                Text(helperText)
                    .font(theme.typography.caption2)
                    .foregroundColor(helperTextColor)
            }
        }
    }
    
    private var textFieldContent: some View {
        ZStack(alignment: .leading) {
            if text.isEmpty {
                Text(placeholder)
                    .foregroundColor(theme.colors.onSurface.opacity(0.5))
                    .font(theme.typography.body)
            }
            
            TextField("", text: $text)
                .font(theme.typography.body)
                .foregroundColor(theme.colors.onSurface)
                .textFieldStyle(PlainTextFieldStyle())
                .focused($isFocused)
        }
        .padding(.horizontal, theme.spacing.md)
        .padding(.vertical, theme.spacing.sm)
        .background(backgroundColor)
        .cornerRadius(theme.cornerRadius.sm)
        .overlay(borderOverlay)
    }
}
```

#### 2.2.2 验证和状态管理

```swift
public struct MacTextFieldStyle {
    let label: String?
    let helperText: String?
    let isError: Bool
    let isRequired: Bool
    let validator: ((String) -> Bool)?
    
    public static let `default` = MacTextFieldStyle(
        label: nil,
        helperText: nil,
        isError: false,
        isRequired: false,
        validator: nil
    )
}

// 验证逻辑
extension MacTextField {
    private func validateInput() {
        if let validator = style.validator {
            let isValid = validator(text)
            // 更新验证状态
        }
    }
}
```

### 2.3 卡片组件 (MacCard)

卡片是内容容器组件，提供一致的内容展示框架。

#### 2.3.1 基础实现

```swift
public struct MacCard<Content: View>: View {
    private let content: Content
    private let style: MacCardStyle
    
    @Environment(\.macTheme) private var theme
    @State private var isHovered: Bool = false
    
    public init(
        style: MacCardStyle = .default,
        @ViewBuilder content: () -> Content
    ) {
        self.style = style
        self.content = content()
    }
    
    public var body: some View {
        VStack(alignment: .leading, spacing: 0) {
            content
        }
        .padding(style.padding)
        .background(backgroundColor)
        .cornerRadius(style.cornerRadius)
        .shadow(
            color: shadowColor,
            radius: shadowRadius,
            x: shadowOffset.x,
            y: shadowOffset.y
        )
        .overlay(borderOverlay)
        .interactiveEffects()
    }
}
```

#### 2.3.2 卡片样式系统

```swift
public struct MacCardStyle {
    let padding: EdgeInsets
    let cornerRadius: CGFloat
    let elevation: Int
    let hasBorder: Bool
    let isInteractive: Bool
    
    public static let `default` = MacCardStyle(
        padding: EdgeInsets(top: 16, leading: 16, bottom: 16, trailing: 16),
        cornerRadius: 8,
        elevation: 1,
        hasBorder: false,
        isInteractive: false
    )
    
    public static let elevated = MacCardStyle(
        padding: EdgeInsets(top: 20, leading: 20, bottom: 20, trailing: 20),
        cornerRadius: 12,
        elevation: 3,
        hasBorder: false,
        isInteractive: false
    )
}
```

## 3. 高级组件设计

### 3.1 导航组件

#### 3.1.1 标签页组件 (MacTabView)

```swift
public struct MacTabView<Content: View>: View {
    @Binding private var selection: Int
    private let tabs: [MacTab]
    private let content: Content
    
    public var body: some View {
        VStack(spacing: 0) {
            // 标签栏
            HStack(spacing: 0) {
                ForEach(tabs.indices, id: \.self) { index in
                    tabButton(for: index)
                }
                Spacer()
            }
            .background(theme.colors.surface)
            .overlay(Divider(), alignment: .bottom)
            
            // 内容区域
            TabView(selection: $selection) {
                content
            }
            .tabViewStyle(PageTabViewStyle(indexDisplayMode: .never))
        }
    }
}
```

#### 3.1.2 侧边栏组件 (MacSidebar)

```swift
public struct MacSidebar<Content: View, Detail: View>: View {
    private let sidebar: Content
    private let detail: Detail
    private let minWidth: CGFloat
    
    @State private var sidebarWidth: CGFloat
    
    public var body: some View {
        HSplitView {
            sidebar
                .frame(minWidth: minWidth, maxWidth: sidebarWidth)
            
            detail
                .frame(maxWidth: .infinity)
        }
    }
}
```

### 3.2 反馈组件

#### 3.2.1 对话框组件 (MacDialog)

```swift
public struct MacDialog<Content: View>: View {
    @Binding private var isPresented: Bool
    private let title: String
    private let content: Content
    private let actions: [MacDialogAction]
    
    public var body: some View {
        ZStack {
            // 背景遮罩
            Color.black.opacity(0.3)
                .ignoresSafeArea()
                .onTapGesture {
                    isPresented = false
                }
            
            // 对话框内容
            VStack(alignment: .leading, spacing: theme.spacing.lg) {
                // 标题
                Text(title)
                    .font(theme.typography.headline)
                    .foregroundColor(theme.colors.onSurface)
                
                // 内容
                content
                
                // 操作按钮
                HStack(spacing: theme.spacing.md) {
                    Spacer()
                    ForEach(actions, id: \.id) { action in
                        actionButton(for: action)
                    }
                }
            }
            .padding(theme.spacing.xl)
            .background(theme.colors.surface)
            .cornerRadius(theme.cornerRadius.lg)
            .shadow(radius: 10)
        }
    }
}
```

#### 3.2.2 消息提示组件 (MacToast)

```swift
public struct MacToast: View {
    private let message: String
    private let type: MacToastType
    private let duration: TimeInterval
    
    @State private var isVisible: Bool = false
    
    public var body: some View {
        HStack(spacing: theme.spacing.md) {
            iconForType
            
            Text(message)
                .font(theme.typography.body)
                .foregroundColor(textColor)
            
            Spacer()
        }
        .padding(.horizontal, theme.spacing.lg)
        .padding(.vertical, theme.spacing.md)
        .background(backgroundColor)
        .cornerRadius(theme.cornerRadius.md)
        .opacity(isVisible ? 1 : 0)
        .offset(y: isVisible ? 0 : -50)
        .animation(.spring(), value: isVisible)
    }
}

public enum MacToastType {
    case success
    case warning
    case error
    case info
}
```

## 4. 动画系统

### 4.1 动画配置

```swift
public struct MacAnimation {
    let duration: Double
    let curve: Animation
    
    public static let fast = MacAnimation(
        duration: 0.1,
        curve: .easeInOut
    )
    
    public static let standard = MacAnimation(
        duration: 0.2,
        curve: .easeInOut
    )
    
    public static let slow = MacAnimation(
        duration: 0.3,
        curve: .easeInOut
    )
    
    public static let spring = MacAnimation(
        duration: 0.5,
        curve: .spring(response: 0.5, dampingFraction: 0.8)
    )
}
```

### 4.2 交互动画

```swift
// 通用交互动画修饰符
extension View {
    func macInteractiveScale(
        pressedScale: CGFloat = 0.98,
        hoveredScale: CGFloat = 1.02
    ) -> some View {
        modifier(MacInteractiveScaleModifier(
            pressedScale: pressedScale,
            hoveredScale: hoveredScale
        ))
    }
}

struct MacInteractiveScaleModifier: ViewModifier {
    let pressedScale: CGFloat
    let hoveredScale: CGFloat
    
    @State private var isPressed: Bool = false
    @State private var isHovered: Bool = false
    
    func body(content: Content) -> some View {
        content
            .scaleEffect(scaleValue)
            .animation(.easeInOut(duration: 0.1), value: scaleValue)
            .onHover { hovering in
                isHovered = hovering
            }
            .pressEvents(
                onPress: { isPressed = true },
                onRelease: { isPressed = false }
            )
    }
    
    private var scaleValue: CGFloat {
        if isPressed {
            return pressedScale
        } else if isHovered {
            return hoveredScale
        } else {
            return 1.0
        }
    }
}
```

## 5. 主题系统详细设计

### 5.1 色彩系统

```swift
public struct MacColors {
    // 主色调
    public let primary: Color
    public let primaryVariant: Color
    
    // 语义色彩
    public let success: Color
    public let warning: Color
    public let error: Color
    public let info: Color
    
    // 背景色彩
    public let background: Color
    public let surface: Color
    public let onBackground: Color
    public let onSurface: Color
    
    // 系统色彩
    public let separator: Color
    public let controlBackground: Color
    public let selectedContentBackground: Color
    
    // 浅色主题
    public static let light = MacColors(
        primary: Color(red: 0.0, green: 0.48, blue: 1.0),
        primaryVariant: Color(red: 0.0, green: 0.4, blue: 0.85),
        success: Color(red: 0.2, green: 0.78, blue: 0.35),
        warning: Color(red: 1.0, green: 0.58, blue: 0.0),
        error: Color(red: 1.0, green: 0.23, blue: 0.19),
        info: Color(red: 0.35, green: 0.68, blue: 0.95),
        background: Color(white: 0.98),
        surface: Color.white,
        onBackground: Color.black,
        onSurface: Color.black,
        separator: Color(white: 0.9),
        controlBackground: Color(white: 0.95),
        selectedContentBackground: Color(red: 0.0, green: 0.48, blue: 1.0, opacity: 0.1)
    )
    
    // 深色主题
    public static let dark = MacColors(
        primary: Color(red: 0.1, green: 0.55, blue: 1.0),
        primaryVariant: Color(red: 0.25, green: 0.65, blue: 1.0),
        success: Color(red: 0.3, green: 0.85, blue: 0.4),
        warning: Color(red: 1.0, green: 0.65, blue: 0.1),
        error: Color(red: 1.0, green: 0.35, blue: 0.3),
        info: Color(red: 0.45, green: 0.75, blue: 1.0),
        background: Color(white: 0.1),
        surface: Color(white: 0.15),
        onBackground: Color.white,
        onSurface: Color.white,
        separator: Color(white: 0.3),
        controlBackground: Color(white: 0.2),
        selectedContentBackground: Color(red: 0.1, green: 0.55, blue: 1.0, opacity: 0.2)
    )
}
```

### 5.2 字体系统

```swift
public struct MacTypography {
    public let largeTitle: Font
    public let title1: Font
    public let title2: Font
    public let title3: Font
    public let headline: Font
    public let body: Font
    public let callout: Font
    public let subheadline: Font
    public let footnote: Font
    public let caption1: Font
    public let caption2: Font
    
    public static let `default` = MacTypography(
        largeTitle: .system(size: 34, weight: .regular, design: .default),
        title1: .system(size: 28, weight: .regular, design: .default),
        title2: .system(size: 22, weight: .regular, design: .default),
        title3: .system(size: 20, weight: .regular, design: .default),
        headline: .system(size: 17, weight: .semibold, design: .default),
        body: .system(size: 17, weight: .regular, design: .default),
        callout: .system(size: 16, weight: .regular, design: .default),
        subheadline: .system(size: 15, weight: .regular, design: .default),
        footnote: .system(size: 13, weight: .regular, design: .default),
        caption1: .system(size: 12, weight: .regular, design: .default),
        caption2: .system(size: 11, weight: .regular, design: .default)
    )
}
```

### 5.3 间距系统

```swift
public struct MacSpacing {
    public let xs: CGFloat = 4
    public let sm: CGFloat = 8
    public let md: CGFloat = 12
    public let lg: CGFloat = 16
    public let xl: CGFloat = 20
    public let xxl: CGFloat = 24
    public let xxxl: CGFloat = 32
    
    // 特定用途间距
    public let componentPadding: EdgeInsets
    public let cardPadding: EdgeInsets
    public let buttonPadding: EdgeInsets
    
    public static let `default` = MacSpacing(
        componentPadding: EdgeInsets(top: 12, leading: 16, bottom: 12, trailing: 16),
        cardPadding: EdgeInsets(top: 16, leading: 16, bottom: 16, trailing: 16),
        buttonPadding: EdgeInsets(top: 8, leading: 16, bottom: 8, trailing: 16)
    )
}
```

## 6. 性能优化策略

### 6.1 渲染优化

```swift
// 使用LazyVStack和LazyHStack优化长列表
LazyVStack(spacing: theme.spacing.md) {
    ForEach(items) { item in
        MacCard {
            ItemView(item: item)
        }
    }
}

// 使用@StateObject避免不必要的重建
@StateObject private var viewModel = ItemViewModel()

// 缓存复杂计算结果
private var computedValue: SomeType {
    return expensiveComputation()
}
```

### 6.2 内存优化

```swift
// 使用弱引用避免循环引用
weak var delegate: MacComponentDelegate?

// 延迟初始化大型对象
private lazy var expensiveResource: ExpensiveResource = {
    return ExpensiveResource()
}()

// 及时释放资源
deinit {
    cancellables.forEach { $0.cancel() }
}
```

### 6.3 动画性能

```swift
// 使用硬件加速的动画
.scaleEffect(scale)
.opacity(opacity)
.offset(offset)

// 避免在动画中使用复杂计算
.animation(.easeInOut(duration: 0.2)) {
    // 简单的状态变化
}
```

## 7. 测试策略

### 7.1 单元测试

```swift
import XCTest
@testable import MacUIKit

class MacButtonTests: XCTestCase {
    func testButtonInitialization() {
        let button = MacButton("Test Button") { }
        XCTAssertNotNil(button)
    }
    
    func testButtonStyleApplication() {
        let primaryButton = MacButton("Primary") { }.style(.primary)
        let secondaryButton = MacButton("Secondary") { }.style(.secondary)
        
        // 验证样式正确应用
    }
    
    func testButtonAction() {
        var actionExecuted = false
        let button = MacButton("Action Test") {
            actionExecuted = true
        }
        
        // 模拟按钮点击
        // button.performAction()
        
        XCTAssertTrue(actionExecuted)
    }
}
```

### 7.2 UI测试

```swift
import XCTest

class MacUIKitUITests: XCTestCase {
    var app: XCUIApplication!
    
    override func setUp() {
        super.setUp()
        app = XCUIApplication()
        app.launch()
    }
    
    func testButtonInteraction() {
        let button = app.buttons["Primary Button"]
        XCTAssertTrue(button.exists)
        XCTAssertTrue(button.isEnabled)
        
        button.tap()
        
        // 验证交互结果
        let resultLabel = app.staticTexts["Action Result"]
        XCTAssertTrue(resultLabel.exists)
    }
    
    func testTextFieldInput() {
        let textField = app.textFields["Username"]
        XCTAssertTrue(textField.exists)
        
        textField.tap()
        textField.typeText("test@example.com")
        
        XCTAssertEqual(textField.value as? String, "test@example.com")
    }
}
```

### 7.3 性能测试

```swift
class MacUIKitPerformanceTests: XCTestCase {
    func testButtonRenderingPerformance() {
        measure {
            // 创建大量按钮组件
            let buttons = (0..<1000).map { index in
                MacButton("Button \(index)") { }
            }
            
            // 渲染性能测试
        }
    }
    
    func testListScrollingPerformance() {
        let app = XCUIApplication()
        app.launch()
        
        let list = app.scrollViews["Item List"]
        
        measure {
            // 测试滚动性能
            list.swipeUp()
            list.swipeDown()
        }
    }
}
```

## 8. 文档和示例

### 8.1 API文档标准

```swift
/// 符合macOS设计准则的主要按钮组件
///
/// MacButton提供了一致的交互体验和视觉样式，支持多种按钮样式和状态。
///
/// ## 基本用法
///
/// ```swift
/// MacButton("点击我") {
///     print("按钮被点击了")
/// }
/// ```
///
/// ## 样式定制
///
/// ```swift
/// MacButton("主要操作", style: .primary) {
///     performPrimaryAction()
/// }
/// .size(.large)
/// .disabled(!isFormValid)
/// ```
///
/// ## 可用样式
///
/// - `.primary`: 主要操作按钮，通常用于最重要的操作
/// - `.secondary`: 次要操作按钮，用于辅助操作
/// - `.text`: 文本按钮，用于轻量级操作
/// - `.destructive`: 危险操作按钮，用于删除等破坏性操作
///
/// - Parameters:
///   - title: 按钮显示的文本内容
///   - style: 按钮的视觉样式，默认为 `.primary`
///   - action: 用户点击按钮时执行的操作闭包
///
/// - Note: 按钮会自动响应系统的无障碍设置，包括字体大小和对比度调整
///
/// - Important: 确保为按钮提供有意义的标题，以便屏幕阅读器用户能够理解按钮的功能
public struct MacButton: View {
    // 实现代码...
}
```

### 8.2 使用示例

```swift
// MARK: - 基础示例
struct BasicExamples: View {
    var body: some View {
        VStack(spacing: 16) {
            // 不同样式的按钮
            MacButton("主要按钮", style: .primary) {
                print("主要操作")
            }
            
            MacButton("次要按钮", style: .secondary) {
                print("次要操作")
            }
            
            MacButton("文本按钮", style: .text) {
                print("文本操作")
            }
            
            // 不同尺寸的按钮
            HStack(spacing: 12) {
                MacButton("小", style: .primary) { }
                    .size(.small)
                
                MacButton("中", style: .primary) { }
                    .size(.medium)
                
                MacButton("大", style: .primary) { }
                    .size(.large)
            }
        }
        .padding()
    }
}

// MARK: - 高级示例
struct AdvancedExamples: View {
    @State private var isLoading = false
    @State private var isFormValid = false
    
    var body: some View {
        VStack(spacing: 20) {
            // 带加载状态的按钮
            MacButton("提交表单") {
                submitForm()
            }
            .loading(isLoading)
            .disabled(!isFormValid)
            
            // 带图标的按钮
            MacButton("下载文件") {
                downloadFile()
            }
            .icon(Image(systemName: "arrow.down.circle"))
            .style(.secondary)
            
            // 自定义样式的按钮
            MacButton("自定义样式") {
                performCustomAction()
            }
            .foregroundColor(.purple)
            .background(Color.purple.opacity(0.1))
        }
        .padding()
    }
    
    private func submitForm() {
        isLoading = true
        // 模拟网络请求
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
            isLoading = false
        }
    }
}
```

---

**文档版本**: 1.0  
**最后更新**: 2024年12月  
**状态**: 草案 